---테이블 삭제
DROP TABLE CUSTOMER;
DROP TABLE CLEVEL;
--테이블 생성
--CLEVEL
CREATE TABLE CLEVEL (
    LEVELNO     NUMBER(1)       PRIMARY KEY,
    LEVELNAME   VARCHAR2(50)    NOT NULL,
    LOC         NUMBER(8)       NOT NULL,
    HIC         NUMBER(8)
    
);

--CUSTOMER
CREATE TABLE CUSTOMER (
    CID     NUMBER(4)       PRIMARY KEY,
    CTEL    VARCHAR2(13)    NOT NULL,
    CNAME   VARCHAR2(50)    NOT NULL,
    CPOINT  NUMBER(7)       DEFAULT 1000,
    CAMOUNT NUMBER(8)       DEFAULT 0,
    LEVELNO NUMBER(1)       DEFAULT 1,
    FOREIGN KEY (LEVELNO) REFERENCES CLEVEL(LEVELNO)
);

-- INSERT DUMMY DATA
-- CLEVEL (추후 등급 추가를 고려하여 LEVELNO는 SEQ로 작성)
DROP SEQUENCE LSEQ;
CREATE SEQUENCE LSEQ
    START WITH      1
    INCREMENT BY    1
    MAXVALUE        9
    MINVALUE        1
    NOCACHE
    NOCYCLE;
INSERT INTO CLEVEL VALUES(LSEQ.NEXTVAL, '브론즈', 0,999999);
INSERT INTO CLEVEL VALUES(LSEQ.NEXTVAL, '실버', 1000000,1999999);
INSERT INTO CLEVEL VALUES(LSEQ.NEXTVAL, '골드', 2000000,2999999);
INSERT INTO CLEVEL VALUES(LSEQ.NEXTVAL, '플래티넘', 3000000, NULL); -- NULL 대신 최고값999999999

-- CUSTOMER
DROP SEQUENCE CSEQ;
CREATE SEQUENCE CSEQ
    START WITH      1
    INCREMENT BY    1
    MAXVALUE        9999
    MINVALUE        1
    NOCACHE
    NOCYCLE;
INSERT INTO CUSTOMER VALUES(CSEQ.NEXTVAL, '010-1111-1111', '김길동', 20000,900000,1);
INSERT INTO CUSTOMER VALUES(CSEQ.NEXTVAL, '010-2222-2222', '나길동', 100,1000000,2);
INSERT INTO CUSTOMER VALUES(CSEQ.NEXTVAL, '010-3333-3333', '박길동', 2000,2500000,3);
INSERT INTO CUSTOMER VALUES(CSEQ.NEXTVAL, '010-4444-1111', '이길동', 3000,5000000,4);

--CHECK
SELECT * FROM CLEVEL;
SELECT * FROM CUSTOMER;
COMMIT;